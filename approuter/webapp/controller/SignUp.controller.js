sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/model/json/JSONModel","ui5/rest/restwithui5/utils/authenticatedEndpoints"],function(t,e,o,s){"use strict";return t.extend("ui5.rest.restwithui5.controller.SignUp",{onInit:function(){this.DataRepository=this.getOwnerComponent().DataRepository;console.log("Sign up controller fired");s(this);const t={name:"",username:"",password:"",cPassword:"",picture:""};const e=new o(t);this.getView().setModel(e);this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("signup").attachPatternMatched(this.onPatternMatch,this);this.oModel=this.getView().getModel();this.oData=this.oModel.getData()},onPatternMatch:function(){console.log("On pattern match called");this.oData.username=null;this.oData.password=null;this.oData.cPassword=null;this.oData.name=null;this.oData.picture=null;this.oModel.setData(this.oData);if(window.localStorage.getItem("FBS_token")){this.onNavBack()}},onNavBack:function(){this.getOwnerComponent().onNavBack()()},handleFormSubmit:function(){const t=this.getView().getModel();const o=t.getProperty("/username");const s=t.getProperty("/password");const n=t.getProperty("/cPassword");const r=t.getProperty("/name");const a=t.getProperty("/picture");console.log(s,n);if(s.trim()!==n.trim()){e.show("Password mismatch");return}if(!o||!s||!n||!r||!a){e.show("All fields are required");return}this.DataRepository.createTravelerWithUserRole({userName:o,password:s,name:r,picture:a});var i=sap.ui.getCore().getEventBus();i.subscribe("Traveler","AddTravelerSuccess",this.handleRedirectOnSuccess,this)},handleRedirectOnSuccess:function(){this.oRouter.navTo("login");e.show("User created Successfully",{duration:5e3})}})});
//# sourceMappingURL=SignUp.controller.js.map